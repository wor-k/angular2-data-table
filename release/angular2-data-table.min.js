/**
 * angular2-data-table v0.1.16 (https://github.com/swimlane/angular2-data-table#readme)
 * Copyright 2016  
 * Licensed under MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs/Rx")):"function"==typeof define&&define.amd?define("angular2-data-table",["exports","@angular/core","@angular/common","rxjs/Rx"],t):t(e.angular2DataTable=e.angular2DataTable||{},e._angular_core,e._angular_common,e.rxjs_Rx)}(this,function(e,t,n,i){"use strict";function o(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function r(e){var t={left:[],center:[],right:[]};if(e)for(var n=0,i=e;n<i.length;n++){var o=i[n];o.frozenLeft?t.left.push(o):o.frozenRight?t.right.push(o):t.center.push(o)}return t}function a(e,t){return{left:l(e.left),center:l(e.center),right:l(e.right),total:l(t)}}function l(e,t){var n=0;if(e)for(var i=0,o=e;i<o.length;i++){var s=o[i],r=t&&s[t];n+=r?s[t]:s.width}return n}function p(e,t){for(var n=0,i=0,o=e;i<o.length;i++){var s=o[i],r=t&&s[t];n+=r?s[t]:s.width}return n}function d(e){for(var t=0,n=0,i=e;n<i.length;n++){var o=i[n];t+=o.flexGrow||0}return t}function c(e,t){var n=p(e),i=d(e),o=r(e);n!==t&&u(o,t,i)}function u(e,t,n){for(var i in e)for(var o=0,s=e[i];o<s.length;o++){var r=s[o];r.canAutoResize?r.width=0:(t-=r.width,n-=r.flexGrow)}var a={},l=t;do{var p=l/n;l=0;for(var i in e)for(var d=0,c=e[i];d<c.length;d++){var r=c[d];if(r.canAutoResize&&!a[r.prop]){var u=r.width+r.flexGrow*p;void 0!==r.minWidth&&u<r.minWidth?(l+=u-r.minWidth,r.width=r.minWidth,a[r.prop]=!0):r.width=u}}}while(0!==l)}function h(e,t,n){for(var i=0,o=n>-1?e.slice(n,e.length).filter(function(e){return e.canAutoResize}):e.filter(function(e){return e.canAutoResize}),s=0,r=e;s<r.length;s++){var a=r[s];i+=a.canAutoResize?a.$$oldWidth||a.width:a.width}for(var l=t-i,p=l/o.length,d=i>t,c=0,u=o;c<u.length;c++){var a=u[c];if(d)a.width=a.$$oldWidth||a.width;else{a.$$oldWidth||(a.$$oldWidth=a.width);var h=a.$$oldWidth+p;a.minWith&&h<a.minWidth?a.width=a.minWidth:a.maxWidth&&h>a.maxWidth?a.width=a.maxWidth:a.width=h}}}function f(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function g(e){return e=e.replace(/[^a-zA-Z0-9 ]/g," "),e=e.replace(/([a-z](?=[A-Z]))/g,"$1 "),e=e.replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase(),e=e.replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,n){return t.trim()+n.toUpperCase()})}function m(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i}function y(t,n){return t===e.SortType.single?n===e.SortDirection.asc?e.SortDirection.desc:e.SortDirection.asc:n?n===e.SortDirection.asc?e.SortDirection.desc:void(n===e.SortDirection.desc):e.SortDirection.asc}function b(e,t){if(null!==e&&"undefined"!=typeof e||(e=0),null!==t&&"undefined"!=typeof t||(t=0),isNaN(parseFloat(e))||!isFinite(e)||isNaN(parseFloat(t))||!isFinite(t)){if(e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1}else{if(parseFloat(e)<parseFloat(t))return-1;if(parseFloat(e)>parseFloat(t))return 1}return 0}function v(t,n){var i=t.slice();return i.sort(function(t,i){for(var o=0,s=n;o<s.length;o++){var r=s[o],a=r.prop,l=r.dir,p=l!==e.SortDirection.desc?b(t[a],i[a]):-b(t[a],i[a]);if(0!==p)return p}return 0})}function w(e,t){var n=e.indexOf(t);return n>-1?e.splice(n,1):e.push(t),e}function E(e,t,n,i){for(var o=n<i,s=0,r=t.length;s<r;s++){var a=t[s],l=s>=i&&s<=n,p=s<=i&&s>=n,d={start:0,end:0};if(d=o?{start:n,end:i-n}:{start:i,end:n+1},o&&p||!o&&l){var c=e.indexOf(a);if(o&&c>-1){e.splice(c,1);continue}s>=d.start&&s<d.end&&c===-1&&e.push(a)}}return e}function O(e,t){if(!e||!t)return e;var n=e,i=t.split(".");if(i.length)for(var o=0,s=i.length;o<s;o++)n=n[i[o]];return n}!function(e){e[e.standard="standard"]="standard",e[e.flex="flex"]="flex",e[e.force="force"]="force"}(e.ColumnMode||(e.ColumnMode={})),function(e){e[e.single="single"]="single",e[e.multi="multi"]="multi"}(e.SortType||(e.SortType={}));var C=function(){function t(t){this.columns=[],this.scrollbarV=!1,this.scrollbarH=!1,this.rowHeight=30,this.columnMode=e.ColumnMode.standard,this.loadingMessage="Loading...",this.emptyMessage="No data to display",this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.limit=void 0,this.count=0,this.offset=0,this.loadingIndicator=!1,this.reorderable=!0,this.sortType=e.SortType.single,this.sorts=[],Object.assign(this,t)}return t}(),j=function(){function e(e){this.$$id=f(),this.isExpressive=!1,this.frozenLeft=!1,this.frozenRight=!1,this.flexGrow=0,this.minWidth=0,this.maxWidth=void 0,this.width=150,this.resizeable=!0,this.comparator=void 0,this.pipe=null,this.sortable=!0,this.draggable=!0,this.canAutoResize=!0,Object.assign(this,e),!this.prop&&this.name&&(this.prop=g(this.name))}return e.getProps=function(){var t=["name","prop"],n=new e;for(var i in n)t.push(i);return t},e}(),P=function(){function e(){}return o([t.ContentChild(t.TemplateRef),s("design:type","function"==typeof(n="undefined"!=typeof t.QueryList&&t.QueryList)&&n||Object)],e.prototype,"template",void 0),e=o([t.Directive({selector:"datatable-column",inputs:j.getProps()}),s("design:paramtypes",[])],e);var n}();!function(e){e[e.asc="asc"]="asc",e[e.desc="desc"]="desc"}(e.SortDirection||(e.SortDirection={}));var R=function(){function e(e){Object.assign(this,e)}return e}(),x=function(){function n(){this.onSelectionChange=new t.EventEmitter,this.onRowsUpdate=new t.EventEmitter,this.onPageChange=new t.EventEmitter,this.scrollbarWidth=m(),this.offsetX=0,this.offsetY=0,this.innerWidth=0,this.bodyHeight=300,this.HScrollPos=0}return Object.defineProperty(n.prototype,"columnsByPin",{get:function(){return r(this.options.columns)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnGroupWidths",{get:function(){return a(this.columnsByPin,this.options.columns)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCount",{get:function(){return this.options.externalPaging?this.options.count:this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this.options.scrollbarV?Math.ceil(this.bodyHeight/this.options.rowHeight)+1:this.options.limit?this.options.limit:this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"indexes",{get:function(){var e=0,t=0;if(this.options.scrollbarV){var n=Math.floor((this.offsetY||0)/this.options.rowHeight);e=Math.max(n,0),t=Math.min(e+this.pageSize,this.pageCount)}else e=Math.max(this.options.offset*this.pageSize,0),t=Math.min(e+this.pageSize,this.pageCount);return{first:e,last:t}},enumerable:!0,configurable:!0}),n.prototype.setSelected=function(e){return this.selected?(this.selected.splice(0,this.selected.length),(t=this.selected).push.apply(t,e)):this.selected=e||[],this.onSelectionChange.emit(this.selected),this;var t},n.prototype.setRows=function(e){return e&&(this.rows=e.slice(),this.onRowsUpdate.emit(e)),this},n.prototype.setOptions=function(e){return this.options=e,this},n.prototype.setPage=function(e){this.options.offset=e-1,this.onPageChange.emit({offset:this.options.offset,limit:this.pageSize,count:this.pageCount})},n.prototype.nextSort=function(t){var n=this.options.sorts.findIndex(function(e){return e.prop===t.prop}),i=this.options.sorts[n],o=void 0;i&&(o=i.dir);var s=y(this.options.sortType,o);void 0===s?this.options.sorts.splice(n,1):i?this.options.sorts[n].dir=s:(this.options.sortType===e.SortType.single&&this.options.sorts.splice(0,this.options.sorts.length),this.options.sorts.push(new R({dir:s,prop:t.prop}))),t.comparator?t.comparator(this.rows,this.options.sorts):this.setRows(v(this.rows,this.options.sorts))},n=o([t.Injectable(),s("design:paramtypes",[])],n)}(),S=function(){function n(e,n,i){this.state=n,this.onPageChange=new t.EventEmitter,this.onRowsUpdate=new t.EventEmitter,this.onRowClick=new t.EventEmitter,this.onSelectionChange=new t.EventEmitter,this.onColumnChange=new t.EventEmitter,this.element=e.nativeElement,this.element.classList.add("datatable"),this.rowDiffer=i.find({}).create(null),this.colDiffer=i.find({}).create(null)}return n.prototype.ngOnInit=function(){var e=this,t=e.options,n=e.rows,i=e.selected;this.state.setOptions(t).setRows(n).setSelected(i)},n.prototype.ngAfterViewInit=function(){var e=this;this.adjustColumns(),this.columns.length&&setTimeout(function(){for(var t=0,n=e.columns.toArray();t<n.length;t++){var i=n[t];e.options.columns.push(new j(i))}})},n.prototype.ngDoCheck=function(){this.rowDiffer.diff(this.rows)&&(this.state.setRows(this.rows),this.onRowsUpdate.emit(this.rows)),this.checkColumnToggles()},n.prototype.checkColumnToggles=function(){var e=this.colDiffer.diff(this.options.columns);if(e){var t=!1;e.forEachAddedItem(function(){return t=!0,!1}),t||e.forEachRemovedItem(function(){return t=!0,!1}),t&&this.adjustColumns()}},n.prototype.adjustSizes=function(){var e=this.element.getBoundingClientRect(),t=e.height,n=e.width;this.state.innerWidth=Math.floor(n),this.options.scrollbarV&&(this.options.headerHeight&&(t=-this.options.headerHeight),this.options.footerHeight&&(t=-this.options.footerHeight),this.state.bodyHeight=t),this.adjustColumns()},n.prototype.adjustColumns=function(t){if(this.options.columns){var n=this.state.innerWidth;this.options.scrollbarV&&(n-=this.state.scrollbarWidth),this.options.columnMode===e.ColumnMode.force?h(this.options.columns,n,t):this.options.columnMode===e.ColumnMode.flex&&c(this.options.columns,n)}},n.prototype.onPageChanged=function(e){this.state.setPage(e),this.onPageChange.emit(e)},n.prototype.onRowSelect=function(e){this.state.setSelected(e),this.onSelectionChange.emit(e)},n.prototype.resize=function(){this.adjustSizes()},Object.defineProperty(n.prototype,"isFixedHeader",{get:function(){var e=this.options.headerHeight;return"string"!=typeof e||"auto"!==e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFixedRow",{get:function(){var e=this.options.rowHeight;return"string"!=typeof e||"auto"!==e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVertScroll",{get:function(){return this.options.scrollbarV},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isHorScroll",{get:function(){return this.options.scrollbarH},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelectable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCheckboxable",{get:function(){return!1},enumerable:!0,configurable:!0}),o([t.Input(),s("design:type","function"==typeof(i="undefined"!=typeof C&&C)&&i||Object)],n.prototype,"options",void 0),o([t.Input(),s("design:type",Array)],n.prototype,"rows",void 0),o([t.Input(),s("design:type",Array)],n.prototype,"selected",void 0),o([t.Output(),s("design:type","function"==typeof(r="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&r||Object)],n.prototype,"onPageChange",void 0),o([t.Output(),s("design:type","function"==typeof(a="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&a||Object)],n.prototype,"onRowsUpdate",void 0),o([t.Output(),s("design:type","function"==typeof(l="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&l||Object)],n.prototype,"onRowClick",void 0),o([t.Output(),s("design:type","function"==typeof(p="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&p||Object)],n.prototype,"onSelectionChange",void 0),o([t.Output(),s("design:type","function"==typeof(d="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&d||Object)],n.prototype,"onColumnChange",void 0),o([t.ContentChildren(P),s("design:type","function"==typeof(u="undefined"!=typeof t.QueryList&&t.QueryList)&&u||Object)],n.prototype,"columns",void 0),o([t.HostListener("window:resize"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],n.prototype,"resize",null),o([t.HostBinding("class.fixed-header"),s("design:type",Object)],n.prototype,"isFixedHeader",null),o([t.HostBinding("class.fixed-row"),s("design:type",Object)],n.prototype,"isFixedRow",null),o([t.HostBinding("class.scroll-vertical"),s("design:type",Object)],n.prototype,"isVertScroll",null),o([t.HostBinding("class.scroll-horz"),s("design:type",Object)],n.prototype,"isHorScroll",null),o([t.HostBinding("class.selectable"),s("design:type",Object)],n.prototype,"isSelectable",null),o([t.HostBinding("class.checkboxable"),s("design:type",Object)],n.prototype,"isCheckboxable",null),n=o([t.Component({selector:"datatable",template:'\n    <div\n      visibility-observer\n      (onVisibilityChange)="adjustSizes()">\n      <datatable-header\n        (onColumnChange)="onColumnChange.emit($event)">\n      </datatable-header>\n      <datatable-body\n        (onRowClick)="onRowClick.emit($event)"\n        (onRowSelect)="onRowSelect($event)">\n      </datatable-body>\n      <datatable-footer\n        (onPageChange)="onPageChanged($event)">\n      </datatable-footer>\n    </div>\n  '}),s("design:paramtypes",["function"==typeof(f="undefined"!=typeof t.ElementRef&&t.ElementRef)&&f||Object,"function"==typeof(g="undefined"!=typeof x&&x)&&g||Object,"function"==typeof(m="undefined"!=typeof t.KeyValueDiffers&&t.KeyValueDiffers)&&m||Object])],n);var i,r,a,l,p,d,u,f,g,m}(),z=function(){function e(e,n){this.state=e,this.onColumnChange=new t.EventEmitter,n.nativeElement.classList.add("datatable-header")}return Object.defineProperty(e.prototype,"headerWidth",{get:function(){return this.state.options.scrollbarH?this.state.innerWidth+"px":"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerHeight",{get:function(){var e=this.state.options.headerHeight;return"auto"!==e?e+"px":e},enumerable:!0,configurable:!0}),e.prototype.columnResized=function(e,t){e<=t.minWidth?e=t.minWidth:e>=t.maxWidth&&(e=t.maxWidth),t.width=e,this.onColumnChange.emit({type:"resize",value:t})},e.prototype.columnReordered=function(e){var t=e.prevIndex,n=e.newIndex,i=e.model;this.state.options.columns.splice(t,1),this.state.options.columns.splice(n,0,i),this.onColumnChange.emit({type:"reorder",value:i})},o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onColumnChange",void 0),e=o([t.Component({selector:"datatable-header",template:'\n    <div\n      [style.width]="state.columnGroupWidths.total + \'px\'"\n      [style.left]="-state.HScrollPos + \'px\'"\n      class="datatable-header-inner"\n      orderable\n      (onReorder)="columnReordered($event)">\n      <div\n        class="datatable-row-left"\n        [style.width]="state.columnGroupWidths.left + \'px\'"\n        *ngIf="state.columnsByPin.left.length">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.left"\n          resizeable\n          [resizeEnabled]="column.resizeable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="drag = true"\n          (onLongPressEnd)="drag = false"\n          draggable\n          [dragX]="column.draggable && drag"\n          [dragY]="false"\n          [model]="column"\n          (onColumnChange)="onColumnChange.emit($event)">\n        </datatable-header-cell>\n      </div>\n      <div\n        class="datatable-row-center"\n        [style.width]="state.columnGroupWidths.center + \'px\'"\n        *ngIf="state.columnsByPin.center.length">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.center"\n          resizeable\n          [resizeEnabled]="column.resizeable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="drag = true"\n          (onLongPressEnd)="drag = false"\n          draggable\n          [dragX]="column.draggable && drag"\n          [dragY]="false"\n          [model]="column"\n          (onColumnChange)="onColumnChange.emit($event)">\n        </datatable-header-cell>\n      </div>\n      <div\n        class="datatable-row-right"\n        [style.width]="state.columnGroupWidths.right + \'px\'"\n        *ngIf="state.columnsByPin.right.length">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.right"\n          resizeable\n          [resizeEnabled]="column.resizeable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="drag = true"\n          (onLongPressEnd)="drag = false"\n          draggable\n          [dragX]="column.draggable && drag"\n          [dragY]="false"\n          [model]="column"\n          (onColumnChange)="onColumnChange.emit($event)">\n        </datatable-header-cell>\n      </div>\n    </div>\n  ',host:{"[style.width]":"headerWidth","[style.height]":"headerHeight"}}),s("design:paramtypes",["function"==typeof(i="undefined"!=typeof x&&x)&&i||Object,"function"==typeof(r="undefined"!=typeof t.ElementRef&&t.ElementRef)&&r||Object])],e);var n,i,r}();!function(e){e[e.single="single"]="single",e[e.multi="multi"]="multi",e[e.multiShift="multiShift"]="multiShift"}(e.SelectionType||(e.SelectionType={}));var H;!function(e){e[e.up=38]="up",e[e.down=40]="down",e[e.return=13]="return",e[e.escape=27]="escape"}(H||(H={}));var W=function(){function n(e,n){this.state=e,this.onRowClick=new t.EventEmitter,this.onRowSelect=new t.EventEmitter,n.nativeElement.classList.add("datatable-body")}return Object.defineProperty(n.prototype,"selectEnabled",{get:function(){return!!this.state.options.selectionType},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bodyHeight",{get:function(){return this.state.options.scrollbarV?this.state.bodyHeight+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bodyWidth",{get:function(){return this.state.options.scrollbarH?this.state.innerWidth+"px":"100%"},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var e=this;this.rows=this.state.rows.slice(),this.sub=this.state.onPageChange.subscribe(function(){var t=e.state.indexes,n=t.first,i=t.last;e.rows=e.state.rows.slice(n,i),e.hideIndicator()}),this.sub.add(this.state.onRowsUpdate.subscribe(function(t){var n=e.state.indexes,i=n.first,o=n.last;e.rows=t.slice(i,o),e.hideIndicator()}))},n.prototype.hideIndicator=function(){var e=this;setTimeout(function(){return e.state.options.loadingIndicator=!1},500)},n.prototype.rowClicked=function(e,t,n){this.onRowClick.emit({event:e,row:n}),this.selectRow(e,t,n)},n.prototype.onScroll=function(e){this.state.options.scrollbarH&&(this.state.HScrollPos=e.target.scrollLeft)},n.prototype.rowKeydown=function(e,t,n){if(e.keyCode===H.return&&this.selectEnabled)this.selectRow(e,t,n);else if(e.keyCode===H.up||e.keyCode===H.down){var i=e.keyCode===H.up?e.target.previousElementSibling:e.target.nextElementSibling;i&&i.focus()}},n.prototype.selectRow=function(t,n,i){if(this.selectEnabled){var o=this.state.options.selectionType===e.SelectionType.multiShift,s=this.state.options.selectionType===e.SelectionType.multi,r=[];if(o||s)if(o&&t.shiftKey){var a=this.state.selected.slice();r=E(a,this.rows,n,this.prevIndex)}else if(o&&!t.shiftKey)r.push(i);else{var a=this.state.selected.slice();r=w(a,i)}else r.push(i);this.prevIndex=n,this.onRowSelect.emit(r)}},n.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},o([t.Output(),s("design:type","function"==typeof(i="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&i||Object)],n.prototype,"onRowClick",void 0),o([t.Output(),s("design:type","function"==typeof(r="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&r||Object)],n.prototype,"onRowSelect",void 0),o([t.HostBinding("style.height"),s("design:type",Object)],n.prototype,"bodyHeight",null),o([t.HostBinding("style.width"),s("design:type",Object)],n.prototype,"bodyWidth",null),o([t.HostListener("scroll",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],n.prototype,"onScroll",null),n=o([t.Component({selector:"datatable-body",template:'\n    <div>\n      <datatable-progress *ngIf="state.options.loadingIndicator">\n      </datatable-progress>\n      <div\n        scroller\n        *ngIf="state.rows.length"\n        [rowHeight]="state.options.rowHeight"\n        [count]="state.rowCount"\n        [scrollWidth]="state.columnGroupWidths.total">\n        <datatable-body-row\n          *ngFor="let row of rows; let i = index;"\n          [attr.tabindex]="i"\n          (click)="rowClicked($event, i, row)"\n          (keydown)="rowKeydown($event, i, row)"\n          [row]="row">\n        </datatable-body-row>\n      </div>\n      <div\n        class="empty-row"\n        *ngIf="!rows.length"\n        [innerHTML]="state.options.emptyMessage">\n      </div>\n    </div>\n  '}),s("design:paramtypes",["function"==typeof(a="undefined"!=typeof x&&x)&&a||Object,"function"==typeof(l="undefined"!=typeof t.ElementRef&&t.ElementRef)&&l||Object])],n);var i,r,a,l}(),I=function(){function e(e,n){this.state=n,this.onPageChange=new t.EventEmitter,e.nativeElement.classList.add("datatable-footer")}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.state.pageCount/this.state.pageSize>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curPage",{get:function(){return this.state.options.offset+1},enumerable:!0,configurable:!0}),o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onPageChange",void 0),e=o([t.Component({selector:"datatable-footer",template:'\n    <div\n      *ngIf="state.options.footerHeight"\n      [style.height]="state.options.footerHeight">\n      <div class="page-count">{{state.pageCount}} total</div>\n      <datatable-pager\n        [page]="curPage"\n        [size]="state.pageSize"\n        (onPaged)="onPageChange.emit($event)"\n        [count]="state.pageCount"\n        [hidden]="!visible">\n       </datatable-pager>\n     </div>\n  '}),s("design:paramtypes",["function"==typeof(i="undefined"!=typeof t.ElementRef&&t.ElementRef)&&i||Object,"function"==typeof(r="undefined"!=typeof x&&x)&&r||Object])],e);var n,i,r}(),L=function(){function n(e,n){this.element=e,this.state=n,this.onColumnChange=new t.EventEmitter,e.nativeElement.classList.add("datatable-header-cell")}return Object.defineProperty(n.prototype,"sortDir",{get:function(){var e=this,t=this.state.options.sorts.find(function(t){return t.prop===e.model.prop});if(t)return t.dir},enumerable:!0,configurable:!0}),n.prototype.sortClasses=function(t){var n=this.sortDir;return{"sort-asc icon-down":n===e.SortDirection.asc,"sort-desc icon-up":n===e.SortDirection.desc}},n.prototype.onSort=function(){this.model.sortable&&(this.state.nextSort(this.model),this.onColumnChange.emit({type:"sort",value:this.model}))},o([t.Input(),s("design:type","function"==typeof(i="undefined"!=typeof j&&j)&&i||Object)],n.prototype,"model",void 0),o([t.Output(),s("design:type","function"==typeof(r="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&r||Object)],n.prototype,"onColumnChange",void 0),n=o([t.Component({selector:"datatable-header-cell",template:'\n    <div>\n      <span\n        class="datatable-header-cell-label draggable"\n        (click)="onSort()"\n        [innerHTML]="model.name">\n      </span>\n      <span\n        class="sort-btn"\n        [ngClass]="sortClasses()">\n      </span>\n    </div>\n  ',host:{"[class.sortable]":"model.sortable","[class.resizable]":"model.resizable","[style.width]":'model.width + "px"',"[style.minWidth]":'model.minWidth + "px"',"[style.maxWidth]":'model.maxWidth + "px"',"[style.height]":'model.height + "px"',"[attr.title]":"model.name"}}),s("design:paramtypes",["function"==typeof(a="undefined"!=typeof t.ElementRef&&t.ElementRef)&&a||Object,"function"==typeof(l="undefined"!=typeof x&&x)&&l||Object])],n);var i,r,a,l}(),D=function(){function e(e){this.size=0,this.onPaged=new t.EventEmitter,e.nativeElement.classList.add("datatable-pager")}return Object.defineProperty(e.prototype,"totalPages",{get:function(){var e=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(e||0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},set:function(e){this._count=e,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){this._page=e,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),e.prototype.canPrevious=function(){return this.page>1},e.prototype.canNext=function(){return this.page<this.totalPages},e.prototype.prevPage=function(){this.page>1&&this.selectPage(--this.page)},e.prototype.nextPage=function(){this.selectPage(++this.page)},e.prototype.selectPage=function(e){e>0&&e<=this.totalPages&&(this.page=e,this.onPaged.emit(e))},e.prototype.calcPages=function(e){var t=[],n=1,i=this.totalPages,o=5,s=o<this.totalPages;e=e||this.page,s&&(n=(Math.ceil(e/o)-1)*o+1,i=Math.min(n+o-1,this.totalPages));for(var r=n;r<=i;r++)t.push({number:r,text:r});return t},o([t.Input(),s("design:type",Number)],e.prototype,"size",void 0),o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onPaged",void 0),o([t.Input(),s("design:type",Object),s("design:paramtypes",[Object])],e.prototype,"count",null),o([t.Input(),s("design:type",Object),s("design:paramtypes",[Object])],e.prototype,"page",null),e=o([t.Component({selector:"datatable-pager",template:'\n    <ul class="pager">\n      <li [class.disabled]="!canPrevious()">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(1)"\n          class="icon-prev">\n        </a>\n      </li>\n      <li [class.disabled]="!canPrevious()">\n        <a\n          href="javascript:void(0)"\n          (click)="prevPage()"\n          class="icon-left">\n        </a>\n      </li>\n      <li\n        *ngFor="let pg of pages"\n        [class.active]="pg.number === page">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(pg.number)">\n          {{pg.text}}\n        </a>\n      </li>\n      <li [class.disabled]="!canNext()">\n        <a\n          href="javascript:void(0)"\n          (click)="nextPage()"\n          class="icon-right">\n        </a>\n      </li>\n      <li [class.disabled]="!canNext()">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(totalPages)"\n          class="icon-skip">\n        </a>\n      </li>\n    </ul>\n  '}),s("design:paramtypes",["function"==typeof(i="undefined"!=typeof t.ElementRef&&t.ElementRef)&&i||Object])],e);var n,i}(),M=function(){function e(e,t){this.state=e,t.nativeElement.classList.add("datatable-body-row")}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.state.selected&&this.state.selected.indexOf(this.row)>-1},enumerable:!0,configurable:!0}),o([t.Input(),s("design:type",Object)],e.prototype,"row",void 0),o([t.HostBinding("class.active"),s("design:type",Object)],e.prototype,"isSelected",null),e=o([t.Component({selector:"datatable-body-row",template:'\n    <div>\n      <div\n        class="datatable-row-left"\n        *ngIf="state.columnsByPin.left.length"\n        [style.width]="state.columnGroupWidths.left + \'px\'">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.left"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n      <div\n        class="datatable-row-center"\n        [style.width]="state.columnGroupWidths.center + \'px\'"\n        *ngIf="state.columnsByPin.center.length">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.center"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n      <div\n        class="datatable-row-right"\n        *ngIf="state.columnsByPin.right.length"\n        [style.width]="state.columnGroupWidths.right + \'px\'">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.right"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n    </div>\n  '}),s("design:paramtypes",["function"==typeof(n="undefined"!=typeof x&&x)&&n||Object,"function"==typeof(i="undefined"!=typeof t.ElementRef&&t.ElementRef)&&i||Object])],e);var n,i}(),T=function(){function e(){}return e=o([t.Component({selector:"datatable-progress",template:'\n    <div class="progress-linear" role="progressbar">\n      <div class="container">\n        <div class="bar"></div>\n      </div>\n    </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush}),s("design:paramtypes",[])],e)}(),k=function(){function e(e){e.nativeElement.classList.add("datatable-body-cell")}return Object.defineProperty(e.prototype,"value",{get:function(){if(!this.row)return"";var e=O(this.row,this.column.prop),t=this.column.pipe;return t?t.transform(e):e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.column.width+"px"},enumerable:!0,configurable:!0}),o([t.Input(),s("design:type","function"==typeof(n="undefined"!=typeof j&&j)&&n||Object)],e.prototype,"column",void 0),o([t.Input(),s("design:type",Object)],e.prototype,"row",void 0),o([t.HostBinding("style.width"),s("design:type",Object)],e.prototype,"width",null),e=o([t.Component({selector:"datatable-body-cell",template:'\n    <div class="datatable-body-cell-label">\n      <span\n        *ngIf="!column.template"\n        [innerHTML]="value">\n      </span>\n      <template\n        *ngIf="column.template"\n        [value]="value"\n        [row]="row"\n        [column]="column"\n        [templateWrapper]="column.template">\n      </template>\n    </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush}),s("design:paramtypes",["function"==typeof(i="undefined"!=typeof t.ElementRef&&t.ElementRef)&&i||Object])],e);var n,i}(),$=function(){function e(e,t){this.callback=t,this.runPolyfill(e)}return e.prototype.runPolyfill=function(e){var t=this,n=function(){var i=e.getBoundingClientRect(),o=i.width,s=i.height;o&&s?t.callback&&t.callback():setTimeout(function(){return n()},10)};n()},e.prototype.isVisible=function(e,t){return t.width*t.height/(e.width*e.height)>=.5},e.prototype.visibleTimerCallback=function(e,t){delete e.visibleTimeout,this.processChanges(t.takeRecords()),"isVisible"in e&&(delete e.isVisible,this.callback&&this.callback(),t.unobserve(e))},e.prototype.processChanges=function(e){var t=this;e.forEach(function(e){var n=e.target;n.isVisible=t.isVisible(e.boundingClientRect,e.intersectionRect),"isVisible"in n?n.visibleTimeout=setTimeout(t.visibleTimerCallback.bind(t),1e3,n,t.observer):"visibleTimeout"in n&&(clearTimeout(n.visibleTimeout),delete n.visibleTimeout)})},e}(),B=function(){function e(e){this.visible=!1,this.onVisibilityChange=new t.EventEmitter,new $(e.nativeElement,this.visbilityChange.bind(this))}return e.prototype.visbilityChange=function(){this.visible=!0,this.onVisibilityChange.emit(!0)},o([t.HostBinding("class.visible"),s("design:type",Boolean)],e.prototype,"visible",void 0),o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onVisibilityChange",void 0),e=o([t.Directive({selector:"[visibility-observer]"}),s("design:paramtypes",["function"==typeof(i="undefined"!=typeof t.ElementRef&&t.ElementRef)&&i||Object])],e);var n,i}(),V=function(){function e(){this.duration=500,this.onLongPress=new t.EventEmitter,this.onLongPressing=new t.EventEmitter,this.onLongPressEnd=new t.EventEmitter,
this.mouseX=0,this.mouseY=0}return Object.defineProperty(e.prototype,"press",{get:function(){return this.pressing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longPress",{get:function(){return this.longPressing},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){var t=this;1===e.which&&(this.mouseX=e.clientX,this.mouseY=e.clientY,this.pressing=!0,this.longPressing=!1,this.timeout=setTimeout(function(){t.longPressing=!0,t.onLongPress.emit(e),t.loop(e)},this.duration),this.loop(e))},e.prototype.onMouseMove=function(e){if(this.pressing&&!this.longPressing){var t=e.clientX-this.mouseX>10,n=e.clientY-this.mouseY>10;(t||n)&&this.endPress()}},e.prototype.loop=function(e){var t=this;this.longPressing&&(this.timeout=setTimeout(function(){t.onLongPressing.emit(e),t.loop(e)},50))},e.prototype.endPress=function(){clearTimeout(this.timeout),this.longPressing=!1,this.pressing=!1,this.onLongPressEnd.emit(!0)},e.prototype.onMouseUp=function(){this.endPress()},o([t.Input(),s("design:type",Number)],e.prototype,"duration",void 0),o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onLongPress",void 0),o([t.Output(),s("design:type","function"==typeof(i="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&i||Object)],e.prototype,"onLongPressing",void 0),o([t.Output(),s("design:type","function"==typeof(r="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&r||Object)],e.prototype,"onLongPressEnd",void 0),o([t.HostBinding("class.press"),s("design:type",Object)],e.prototype,"press",null),o([t.HostBinding("class.longpress"),s("design:type",Object)],e.prototype,"longPress",null),o([t.HostListener("mousedown",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],e.prototype,"onMouseDown",null),o([t.HostListener("mousemove",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],e.prototype,"onMouseMove",null),o([t.HostListener("mouseup"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],e.prototype,"onMouseUp",null),e=o([t.Directive({selector:"[long-press]"}),s("design:paramtypes",[])],e);var n,i,r}(),F=function(){function e(e){if(this.resizeEnabled=!0,this.onResize=new t.EventEmitter,this.prevScreenX=0,this.resizing=!1,this.element=e.nativeElement,this.resizeEnabled){var n=document.createElement("span");n.classList.add("resize-handle"),this.element.appendChild(n)}}return e.prototype.onMouseup=function(){this.resizing=!1,this.subscription&&(this.subscription.unsubscribe(),this.onResize.emit(this.element.clientWidth))},e.prototype.onMousedown=function(e){var t=this,n=e.target.classList.contains("resize-handle");n&&(e.stopPropagation(),this.resizing=!0,this.subscription=i.Observable.fromEvent(document,"mousemove").subscribe(function(e){return t.move(e)}))},e.prototype.move=function(e){var t=e.movementX||e.mozMovementX||e.screenX-this.prevScreenX,n=this.element.clientWidth,i=n+(t||0);this.prevScreenX=e.screenX;var o=!this.minWidth||i>=this.minWidth,s=!this.maxWidth||i<=this.maxWidth;o&&s&&(this.element.style.width=i+"px")},o([t.Input(),s("design:type",Boolean)],e.prototype,"resizeEnabled",void 0),o([t.Input(),s("design:type",Number)],e.prototype,"minWidth",void 0),o([t.Input(),s("design:type",Number)],e.prototype,"maxWidth",void 0),o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onResize",void 0),o([t.HostListener("document:mouseup",["$event"]),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],e.prototype,"onMouseup",null),o([t.HostListener("mousedown",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],e.prototype,"onMousedown",null),e=o([t.Directive({selector:"[resizeable]",host:{"[class.resizeable]":"resizeEnabled"}}),s("design:paramtypes",["function"==typeof(r="undefined"!=typeof t.ElementRef&&t.ElementRef)&&r||Object])],e);var n,r}(),X=function(){function e(e){this.dragX=!0,this.dragY=!0,this.onDragStart=new t.EventEmitter,this.onDragging=new t.EventEmitter,this.onDragEnd=new t.EventEmitter,this.dragging=!1,this.element=e.nativeElement}return e.prototype.onMouseup=function(e){this.dragging=!1,this.element.classList.remove("dragging"),this.subscription&&(this.subscription.unsubscribe(),this.onDragEnd.emit({event:e,element:this.element,model:this.model}))},e.prototype.onMousedown=function(e){var t=this;if(e.target.classList.contains("draggable")){e.preventDefault(),this.dragging=!0;var n={x:e.clientX,y:e.clientY};this.subscription=i.Observable.fromEvent(document,"mousemove").subscribe(function(e){return t.move(e,n)}),this.onDragStart.emit({event:e,element:this.element,model:this.model})}},e.prototype.move=function(e,t){if(this.dragging){var n=e.clientX-t.x,i=e.clientY-t.y;this.dragX&&(this.element.style.left=n+"px"),this.dragY&&(this.element.style.top=i+"px"),(this.dragX||this.dragY)&&(this.element.classList.add("dragging"),this.onDragging.emit({event:e,element:this.element,model:this.model}))}},o([t.Input(),s("design:type",Object)],e.prototype,"model",void 0),o([t.Input(),s("design:type",Boolean)],e.prototype,"dragX",void 0),o([t.Input(),s("design:type",Boolean)],e.prototype,"dragY",void 0),o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onDragStart",void 0),o([t.Output(),s("design:type","function"==typeof(r="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&r||Object)],e.prototype,"onDragging",void 0),o([t.Output(),s("design:type","function"==typeof(a="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&a||Object)],e.prototype,"onDragEnd",void 0),o([t.HostListener("document:mouseup",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],e.prototype,"onMouseup",null),o([t.HostListener("mousedown",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],e.prototype,"onMousedown",null),e=o([t.Directive({selector:"[draggable]"}),s("design:paramtypes",["function"==typeof(l="undefined"!=typeof t.ElementRef&&t.ElementRef)&&l||Object])],e);var n,r,a,l}(),A=function(){function e(){this.onReorder=new t.EventEmitter}return e.prototype.ngAfterContentInit=function(){var e=this;this.drags.forEach(function(t){return t.onDragStart.subscribe(e.onDragStart.bind(e))&&t.onDragEnd.subscribe(e.onDragEnd.bind(e))})},e.prototype.onDragStart=function(){this.positions={};for(var e=0,t=0,n=this.drags.toArray();t<n.length;t++){var i=n[t],o=i.element;this.positions[i.model.prop]={left:parseInt(o.offsetLeft.toString(),0),index:e++}}},e.prototype.onDragEnd=function(e){var t=e.element,n=e.model,i=parseInt(t.offsetLeft.toString(),0),o=this.positions[n.prop],s=0;for(var r in this.positions){var a=this.positions[r],l=i<a.left&&o.left>a.left,p=i>a.left&&o.left<a.left;(l||p)&&this.onReorder.emit({prevIndex:o.index,newIndex:s,model:n}),s++}t.style.left="auto"},o([t.Output(),s("design:type","function"==typeof(n="undefined"!=typeof t.EventEmitter&&t.EventEmitter)&&n||Object)],e.prototype,"onReorder",void 0),o([t.ContentChildren(X),s("design:type","function"==typeof(i="undefined"!=typeof t.QueryList&&t.QueryList)&&i||Object)],e.prototype,"drags",void 0),e=o([t.Directive({selector:"[orderable]"}),s("design:paramtypes",[])],e);var n,i}(),N=function(){function e(e){e.nativeElement.classList.add("scroller")}return Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.count*this.rowHeight+"px"},enumerable:!0,configurable:!0}),o([t.Input(),s("design:type",Number)],e.prototype,"rowHeight",void 0),o([t.Input(),s("design:type",Number)],e.prototype,"count",void 0),o([t.Input(),s("design:type",Number)],e.prototype,"scrollWidth",void 0),e=o([t.Directive({selector:"[scroller]",host:{"[style.height]":"scrollHeight","[style.width]":'scrollWidth + "px"'}}),s("design:paramtypes",["function"==typeof(n="undefined"!=typeof t.ElementRef&&t.ElementRef)&&n||Object])],e);var n}(),Y=function(){function e(e){this.viewContainer=e}return e.prototype.ngOnChanges=function(e){e.templateWrapper&&(this.embeddedViewRef&&this.embeddedViewRef.destroy(),this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateWrapper,{value:this.value,row:this.row,column:this.column})),this.embeddedViewRef&&(this.embeddedViewRef.context.value=this.value,this.embeddedViewRef.context.row=this.row,this.embeddedViewRef.context.column=this.column)},o([t.Input(),s("design:type","function"==typeof(n="undefined"!=typeof t.TemplateRef&&t.TemplateRef)&&n||Object)],e.prototype,"templateWrapper",void 0),o([t.Input(),s("design:type",Object)],e.prototype,"value",void 0),o([t.Input(),s("design:type",Object)],e.prototype,"row",void 0),o([t.Input(),s("design:type",Object)],e.prototype,"column",void 0),e=o([t.Directive({selector:"[templateWrapper]"}),s("design:paramtypes",["function"==typeof(i="undefined"!=typeof t.ViewContainerRef&&t.ViewContainerRef)&&i||Object])],e);var n,i}(),G=function(){function e(){}return e=o([t.NgModule({imports:[n.CommonModule],declarations:[B,S,P,z,L,X,F,A,V,W,I,D,T,M,k,N,Y],providers:[x],exports:[S,P]}),s("design:paramtypes",[])],e)}();e.TableOptions=C,e.TableColumn=j,e.Sort=R,e.Angular2DataTableModule=G,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=release/angular2-data-table.js.map